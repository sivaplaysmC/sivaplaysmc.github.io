{{ define "main" }}
    {{ partial "neon-particles.html" . }}
    <div class="post-layout">
        <article class="post">
            <h1 class="post-title">
                {{ .Title | markdownify }}
            </h1>
            <div class="post-meta">
                {{- if .Date -}}
                    <time class="post-date">
                        {{- partial "post-date" . -}}
                        {{- if and $.Site.Params.showLastUpdated .Lastmod -}}
                            &nbsp;{{- partial "post-lastmod" . -}}
                        {{- end -}}
                    </time>
                {{- end -}}
                <span class="post-author">
                    {{- .Params.Author | default "Ishmael42" -}}
                </span>
                <span class="post-reading-time">
                    {{- .ReadingTime }}
                    {{ $.Site.Params.minuteReadingTime | default "min read" }}
                    ({{ .WordCount }} {{ $.Site.Params.words | default "words" -}})
                </span>
            </div>

            {{ if .Params.tags }}
                <span class="post-tags">
                    {{ range .Params.tags }}
                        #<a href="{{ (urlize (printf "tags/%s/" .)) | absLangURL }}">{{ . }}</a
                        >&nbsp;
                    {{ end }}
                </span>
            {{ end }}
            {{ partial "cover.html" . }}

            {{ if (.Params.Toc | default .Site.Params.Toc) }}
                <div class="table-of-contents">
                    <h2>
                        {{ (.Params.TocTitle | default .Site.Params.TocTitle) | default "Table of Contents" }}
                    </h2>
                    {{ .TableOfContents }}
                </div>
            {{ end }}


            <hr />

            <div class="post-content">
                {{- with .Content -}}
                    <div>
                        {{ . }}
                    </div>
                {{- end -}}
            </div>

            {{ if eq .Type $.Site.Params.contentTypeName }}
                {{ partial "posts_pagination.html" . }}
            {{ end }}

            {{ partial "comments.html" . }}

        </article>

    </div>
{{ end }}
